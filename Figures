#include <iostream>
#include <cmath>

class Shape {
public:
    virtual void draw() const = 0;
    virtual double area() const = 0;
    virtual double perimeter() const = 0;
    virtual std::string type() const = 0; // Додали метод для визначення типу фігури
};

class Circle : public Shape {
private:
    double radius;
    double x;
    double y;

public:
    Circle(double radius, double x, double y) : radius(radius), x(x), y(y) {}

    void draw() const override {
        std::cout << "Circle with radius " << radius << " at (" << x << ", " << y << ")" << std::endl;
    }

    double area() const override {
        return 3.14159 * radius * radius;
    }

    double perimeter() const override {
        return 2.0 * 3.14159 * radius;
    }

    std::string type() const override {
        return "Circle";
    }
};

class Parallelogram : public Shape {
private:
    double base;
    double height;
    double angle;
    double x;
    double y;

public:
    Parallelogram(double base, double height, double angle, double x, double y)
        : base(base), height(height), angle(angle), x(x), y(y) {}

    void draw() const override {
        std::cout << "Parallelogram with base " << base << ", height " << height
                  << ", angle " << angle << " degrees at (" << x << ", " << y << ")" << std::endl;
    }

    double area() const override {
        return base * height;
    }

    double perimeter() const override {
        return 2.0 * (base + height);
    }

    std::string type() const override {
        if (base == height) {
            return "Square";
        } else if (angle == 90.0) {
            return "Rectangle";
        } else {
            return "Rhombus";
        }
    }
};

class Triangle : public Shape {
private:
    double side1;
    double side2;
    double side3;
    double x1;
    double y1;
    double x2;
    double y2;
    double x3;
    double y3;

public:
    Triangle(double s1, double s2, double s3, double x1, double y1, double x2, double y2, double x3, double y3)
        : side1(s1), side2(s2), side3(s3), x1(x1), y1(y1), x2(x2), y2(y2), x3(x3), y3(y3) {}

    void draw() const override {
        std::cout << "Triangle with sides " << side1 << ", " << side2 << ", " << side3
                  << " at (" << x1 << ", " << y1 << "), (" << x2 << ", " << y2 << "), (" << x3 << ", " << y3 << ")" << std::endl;
    }

    double area() const override {
        // Використовуємо формулу Герона для обчислення площі трикутника
        double s = (side1 + side2 + side3) / 2.0;
        return sqrt(s * (s - side1) * (s - side2) * (s - side3));
    }

    double perimeter() const override {
        return side1 + side2 + side3;
    }

    std::string type() const override {
        if (side1 == side2 && side2 == side3) {
            return "Equilateral Triangle";
        } else if (side1 == side2 || side1 == side3 || side2 == side3) {
            return "Isosceles Triangle";
        } else {
            return "Scalene Triangle";
        }
    }

    std::string angleType() const {
        // Визначення типу трикутника за кутами
        double angles[3];
        angles[0] = acos((side2 * side2 + side3 * side3 - side1 * side1) / (2 * side2 * side3)) * 180.0 / 3.14159;
        angles[1] = acos((side1 * side1 + side3 * side3 - side2 * side2) / (2 * side1 * side3)) * 180.0 / 3.14159;
        angles[2] = acos((side1 * side1 + side2 * side2 - side3 * side3) / (2 * side1 * side2)) * 180.0 / 3.14159;

        if (angles[0] < 90 && angles[1] < 90 && angles[2] < 90) {
            return "Acute-angled";
        } else if (angles[0] == 90 || angles[1] == 90 || angles[2] == 90) {
            return "Right-angled";
        } else {
            return "Obtuse-angled";
        }
    }
};

class Pentagon : public Shape {
private:
    double side;
    double x;
    double y;

public:
    Pentagon(double side, double x, double y) : side(side), x(x), y(y) {}

    void draw() const override {
        std::cout << "Pentagon with side " << side << " at (" << x << ", " << y << ")" << std::endl;
    }

    double area() const override {
        // Використовуємо формулу для обчислення площі п'ятикутника
        return 0.25 * sqrt(5 * (5 + 2 * sqrt(5))) * side * side;
    }

    double perimeter() const override {
        return 5.0 * side;
    }

    std::string type() const override {
        return "Pentagon";
    }
};

int main() {
    int choice;

    std::cout << "Choose a shape: \n";
    std::cout << "1. Circle\n";
    std::cout << "2. Parallelogram\n";
    std::cout << "3. Triangle\n";
    std::cout << "4. Pentagon\n";
    std::cout << "Enter the corresponding number: ";
    std::cin >> choice;

    if (choice == 1) {
        double radius, x, y;
        std::cout << "Enter the radius of the circle: ";
        std::cin >> radius;
        std::cout << "Enter the x-coordinate of the circle: ";
        std::cin >> x;
        std::cout << "Enter the y-coordinate of the circle: ";
        std::cin >> y;

        Circle circle(radius, x, y);
        circle.draw();
        std::cout << "Area: " << circle.area() << std::endl;
        std::cout << "Perimeter: " << circle.perimeter() << std::endl;
        std::cout << "Type: " << circle.type() << std::endl;
    } else if (choice == 2) {
        double base, height, angle, x, y;
        std::cout << "Enter the base of the parallelogram: ";
        std::cin >> base;
        std::cout << "Enter the height of the parallelogram: ";
        std::cin >> height;
        std::cout << "Enter the angle (in degrees) of the parallelogram: ";
        std::cin >> angle;
        std::cout << "Enter the x-coordinate of the parallelogram: ";
        std::cin >> x;
        std::cout << "Enter the y-coordinate of the parallelogram: ";
        std::cin >> y;

        Parallelogram parallelogram(base, height, angle, x, y);
        parallelogram.draw();
        std::cout << "Area: " << parallelogram.area() << std::endl;
        std::cout << "Perimeter: " << parallelogram.perimeter() << std::endl;
        std::cout << "Type: " << parallelogram.type() << std::endl;
    } else if (choice == 3) {
        double side1, side2, side3, x1, y1, x2, y2, x3, y3;
        std::cout << "Enter the length of side 1: ";
        std::cin >> side1;
        std::cout << "Enter the length of side 2: ";
        std::cin >> side2;
        std::cout << "Enter the length of side 3: ";
        std::cin >> side3;
        std::cout << "Enter the x-coordinate of point 1: ";
        std::cin >> x1;
        std::cout << "Enter the y-coordinate of point 1: ";
        std::cin >> y1;
        std::cout << "Enter the x-coordinate of point 2: ";
        std::cin >> x2;
        std::cout << "Enter the y-coordinate of point 2: ";
        std::cin >> y2;
        std::cout << "Enter the x-coordinate of point 3: ";
        std::cin >> x3;
        std::cout << "Enter the y-coordinate of point 3: ";
        std::cin >> y3;

        Triangle triangle(side1, side2, side3, x1, y1, x2, y2, x3, y3);
        triangle.draw();
        std::cout << "Area: " << triangle.area() << std::endl;
        std::cout << "Perimeter: " << triangle.perimeter() << std::endl;
        std::cout << "Type: " << triangle.type() << std::endl;
        std::cout << "Angle Type: " << triangle.angleType() << std::endl;
    } else if (choice == 4) {
        double side, x, y;
        std::cout << "Enter the side of the pentagon: ";
        std::cin >> side;
        std::cout << "Enter the x-coordinate of the pentagon: ";
        std::cin >> x;
        std::cout << "Enter the y-coordinate of the pentagon: ";
        std::cin >> y;

        Pentagon pentagon(side, x, y);
        pentagon.draw();
        std::cout << "Area: " << pentagon.area() << std::endl;
        std::cout << "Perimeter: " << pentagon.perimeter() << std::endl;
        std::cout << "Type: " << pentagon.type() << std::endl;
    } else {
        std::cout << "Invalid choice. Exiting...\n";
    }

    return 0;
}
